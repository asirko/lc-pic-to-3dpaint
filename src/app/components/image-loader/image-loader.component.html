<h3 class="step-title">Choix de l'image</h3>

<input type="file" accept="image/*" (change)="onFileSelected($event)" #fileInput style="display: none" />

@if (!img()) {
  <p class="no-image show-when-inactive"><em>Aucune image de chargée</em></p>
  <div
    class="drop-zone hide-when-inactive"
    [class.dragover]="isDragOver()"
    (dragover)="onDragOver($event)"
    (dragleave)="onDragLeave($event)"
    (drop)="onDrop($event)"
    (click)="fileInput.click()">
    <button type="button" class="custom-file-btn">Choisir une image</button>
    <span class="drop-hint">ou glissez-déposez une image ici</span>
  </div>
} @else {
  <h4 class="image-title" (click)="fileInput.click()">
    {{ file()?.name }}
    <i class="btn hide-when-inactive change-image">autorenew</i>
  </h4>
  <div class="image-container">
    <canvas #canvas (click)="fileInput.click()"></canvas>
  </div>
}

<div class="stepper-controls hide-when-inactive">
  <button (click)="next.emit()" [disabled]="!img()">Valider</button>
</div>
